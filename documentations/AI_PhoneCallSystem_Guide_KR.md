# π“ AI μ „ν™” λ°μ‹  λ° μμ„± ν•©μ„± μ‹μ¤ν… κ°€μ΄λ“ (AI Phone Call & TTS Control System)

---

## π§© μ‹μ¤ν… κ°μ” (System Overview)

μ΄ μ‹μ¤ν…μ€ **λ‘ κ°€μ§€ μ£Όμ” κµ¬μ„± μ”μ†**λ΅ μ΄λ£¨μ–΄μ Έ μμµλ‹λ‹¤:

| κµ¬μ„± μ”μ† | μ„μΉ | μ—­ν•  |
|------------|-----------|----------|
| **1. NIPA ν΄λΌμ°λ“ μ„λ²„** | NIPA ν΄λΌμ°λ“ μƒ | ν•µμ‹¬ AI μ„λΉ„μ¤(ν…μ¤νΈ-μμ„± λ³€ν™ FishSpeech, μ±—λ΄‡, μ „ν™” λ°μ‹  API)λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤. AWS Connect, DynamoDB, S3 μ¤λ””μ¤ μ—…λ΅λ“λ¥Ό μ²λ¦¬ν•©λ‹λ‹¤. |
| **2. λ΅μ»¬ μ μ–΄ ν¨λ„(Web UI)** | λ΅μ»¬ PC | κ°„λ‹¨ν• ν•/μ μ›Ή μΈν„°νμ΄μ¤λ΅ μ „ν™” λ°μ‹ , μΈμ‚¬λ§ μƒμ„±, μ°Έκ³  μμ„± μ—…λ΅λ“λ¥Ό ν†µν• TTS ν…μ¤νΈλ¥Ό μν–‰ν•©λ‹λ‹¤. |

λ΅μ»¬ μΈν„°νμ΄μ¤λ” κ³µμ© λ„λ©”μΈμ„ ν†µν•΄ NIPA μ„λ²„μ— μ—°κ²°λ©λ‹λ‹¤.

---

## π” 1. μ„λ²„ μ ‘μ† (NIPA Cloud Access)

| ν•­λ© | μ„Έλ¶€ μ •λ³΄ |
|------|-------------|
| **λ§ν¬ (Link)** | https://nipa.nhncloud.com/ |
| **μ•„μ΄λ”” (ID)** | nipa-gpu2025-668@ktcloud.com |
| **λΉ„λ°€λ²νΈ (Password)** | _insunetfc6276 |
| **μ„λ²„ URL (Server URL)** | https://honest-trivially-buffalo.ngrok-free.app |

---

## π€ 2. NIPA μ„λ²„ μ‹¤ν–‰ (Starting the NIPA Server)

### Step 1 β€” μ„λ²„ μ‹μ‘ (Starting the server)
![μ„λ²„ μ‹μ‘](images/1_start.png)

### Step 2 β€” VALL-E λ””λ ‰ν„°λ¦¬ λ§μ΄νΈ (Mount VALL-E directory)
VALL-E λ””λ ‰ν„°λ¦¬λ¥Ό μ„ νƒν•μ—¬ λ§μ΄νΈν•©λ‹λ‹¤.  
![VALL-E λ§μ΄νΈ](images/2_mount_valle.png)

### Step 3 β€” μ‚¬μ „ μ¤ν” ν¬νΈ μ„ νƒ (Select pre-open ports)
ν¬νΈ λ²νΈ **8000**κ³Ό **5051**μ„ μ…λ ¥ν•©λ‹λ‹¤.  
![ν¬νΈ μ„ νƒ](images/3_select_preopen_ports.png)

### Step 4 β€” μ„λ²„ μ‹¤ν–‰ (Launch the server)
**Launch** λ²„νΌμ„ ν΄λ¦­ν•μ—¬ μ„λ²„λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.  
![μ„λ²„ μ‹¤ν–‰](images/4_launch.png)

### Step 5 β€” μ„λ²„ μ„¤μ •μ„ μ„ν• App Dialog μ„ νƒ (Selecting app dialog)
**App Dialog** λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.  
![App Dialog μ„ νƒ](images/5_select_app_dialog.png)

### Step 6 β€” JupyterLab μ„ νƒ λ° μ‹¤ν–‰ (Select and open JupyterLab)
**JupyterLab**μ„ μ„ νƒν•©λ‹λ‹¤.  
![JupyterLab μ„ νƒ](images/6_select_jupyterlab.png)

### Step 7 β€” NIPA ν΄λΌμ°λ“ μ„λ²„ μ‹μ‘ (Start the NIPA cloud server)
λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤:  
```bash
./VALL-E/run_server.sh
```
![μ„λ²„ μ‹¤ν–‰ λ…λ Ή](images/7_start_runserver.png)

### Step 8 β€” μ„λ²„ μ‹¤ν–‰ μ™„λ£ (Server launch complete)
μ„λ²„ μ‹¤ν–‰μ΄ μ™„λ£λλ©΄ λ‹¤μκ³Ό κ°™μ€ ν™”λ©΄μ΄ ν‘μ‹λ©λ‹λ‹¤.  
![μ„λ²„ μ‹¤ν–‰ μ™„λ£](images/8_server_launch_complete.png)

---

## π’» 3. λ΅μ»¬ μ μ–΄ ν¨λ„ μ‹¤ν–‰ (Starting the Local Control Panel)

### Step 1 β€” ν„°λ―Έλ„μ—μ„ ν”„λ΅μ νΈ ν΄λ” μ—΄κΈ° (Open terminal in project folder)
```bash
cd /path/to/local_app
```

### Step 2 β€” μμ΅΄μ„± μ„¤μΉ (Install dependencies)
```bash
pip install fastapi uvicorn httpx
```

### Step 3 β€” μ›Ή μ•± μ‹¤ν–‰ (Start the web app)
```bash
uvicorn local_app:app --host 0.0.0.0 --port 5051
```

λΈλΌμ°μ €μ—μ„ λ‹¤μ μ£Όμ†λ΅ μ ‘μ†ν•©λ‹λ‹¤:  
π‘‰ **http://localhost:5051**

---

# π‡°π‡· 4. λ΅μ»¬ μ›Ή μΈν„°νμ΄μ¤ μ‚¬μ©λ²• (μ—…λ°μ΄νΈ)

## π§­ κ°μ”  
λ΅μ»¬ μ›Ή μΈν„°νμ΄μ¤λ” **λ‹¨μΌ νμ΄μ§€** κµ¬μ΅°λ΅ κµ¬μ„±λλ©°, λ‹¤μ 3κ°μ μμ—­μ„ ν¬ν•¨ν•©λ‹λ‹¤:

| μμ—­ | μ΄λ¦„ | κΈ°λ¥ |
|------|------|-----------|
| 1οΈβƒ£ | **μ „ν™” ν¨λ„** | μ „ν™” λ°μ‹  λ° κ°μΈν™”λ μΈμ‚¬λ§ μƒμ„± |
| 2οΈβƒ£ | **μ±„ν… μΈν„°νμ΄μ¤** | μ°¨μ§‘μ‚¬ μ±—λ΄‡ ν…μ¤νΈ (Chajipsa / GPT μ—”μ§„ μ„ νƒ κ°€λ¥) |
| 3οΈβƒ£ | **TTS μ ν‹Έλ¦¬ν‹° (μ„ νƒ)** | λ΅μ»¬ TTS μ„λ²„λ΅ μ§μ ‘ μμ„± μƒμ„± |

---

## π“± 1 β€” μ „ν™” ν¨λ„

νμ΄μ§€ **μΆμΈ΅ μƒλ‹¨** μμ—­μ…λ‹λ‹¤.

### **κΈ°λ¥**
- μ•„μ›ƒλ°”μ΄λ“ μ „ν™” κ±ΈκΈ°  
- κ³ κ° μ΄λ¦„ λ° μ „ν™”λ²νΈ μ…λ ¥  
- κ°μΈν™”λ μΈμ‚¬λ§ λ° β€λ„¤, {μ΄λ¦„}λ‹β€ μμ„± μƒμ„±  

### **μ‚¬μ© λ°©λ²•**
1. μ „ν™”λ²νΈ μ…λ ¥  
2. (μ„ νƒ) κ³ κ° μ΄λ¦„ μ…λ ¥  
3. **μΈμ‚¬λ§ μƒμ„±** ν΄λ¦­  
4. **ν†µν™” μ‹μ‘** ν΄λ¦­  

### **μλ¦¬ν‘μ‹ μ΄λ―Έμ§€**
![μ „ν™” ν¨λ„ μλ¦¬ν‘μ‹μ](images/phone_call.png)

---

## π™οΈ 2 β€” TTS μ ν‹Έλ¦¬ν‹°

νμ΄μ§€ **ν•λ‹¨**μ— μ„μΉν•©λ‹λ‹¤.

### **κΈ°λ¥**
- ν…μ¤νΈ κΈ°λ° μμ„± μƒμ„±  
- (μ„ νƒ) μ°Έκ³  μμ„± μ—…λ΅λ“  
- μ¤λ””μ¤ μ¬μƒ λ° λ‹¤μ΄λ΅λ“  

### **μ‚¬μ© λ°©λ²•**
1. ν…μ¤νΈλ¥Ό μ…λ ¥ν•©λ‹λ‹¤  
2. (μ„ νƒ) μ°Έκ³  μμ„± μ—…λ΅λ“  
3. **μμ„± μƒμ„±** ν΄λ¦­  
4. μƒμ„±λ μμ„±μ„ μ¬μƒν•κ±°λ‚ λ‹¤μ΄λ΅λ“  

### **μλ¦¬ν‘μ‹ μ΄λ―Έμ§€**
![TTS ν¨λ„ μλ¦¬ν‘μ‹μ](images/tts_api.png)

---

## π’¬ 3 β€” μ±„ν… μΈν„°νμ΄μ¤

νμ΄μ§€ **μ°μΈ΅**μ— μμµλ‹λ‹¤.

### **κΈ°λ¥**
- μ°¨μ§‘μ‚¬ μ±—λ΄‡κ³Ό λ€ν™”  
- **Chajipsa / GPT** μ—”μ§„ μ„ νƒ  
- μ‘λ‹µ λ©”μ‹μ§€ μ†μ— μ—”μ§„ μ•„μ΄μ½ ν‘μ‹  
- μ‹μ¤ν… λ΅κ·Έ μ¶λ ¥  

### **μ‚¬μ© λ°©λ²•**
1. λ©”μ‹μ§€ μ…λ ¥  
2. μ—”μ§„ μ„ νƒ  
3. λ³΄λ‚΄κΈ° λλ” Enter  

### **μλ¦¬ν‘μ‹ μ΄λ―Έμ§€**
![μ±„ν… μΈν„°νμ΄μ¤ μλ¦¬ν‘μ‹μ](images/chatbot.png)

---

## β οΈ 5. λ¬Έμ  ν•΄κ²° (Troubleshooting)

| λ¬Έμ  | μ›μΈ | ν•΄κ²° λ°©λ²• |
|--------|--------|-----------|
| β€Server is not runningβ€ λ©”μ‹μ§€ | NIPA μ„λ²„κ°€ μ¤‘μ§€λμ—κ±°λ‚ Ngrok μ—°κ²°μ΄ λκΉ€ | Ngrok μ¬μ—°κ²° ν›„ `uvicorn app:app` μ¬μ‹¤ν–‰ |
| μμ„±μ΄ λΉ„μ–΄ μμ | μ°Έκ³  νμΌ λ„λ½ λλ” μλ»λ κ²½λ΅ | `/tts/synthesize2` APIλ¥Ό μ§μ ‘ ν…μ¤νΈ |
| μ „ν™” λ°μ‹ μ΄ μ‘λ™ν•μ§€ μ•μ | AWS Connect κ¶ν• λ¬Έμ  | Lambda + Connect ν†µν•© κ¶ν• ν™•μΈ |
| β€Generatingβ€¦β€ μƒνƒκ°€ λ©μ¶¤ | μ„λ²„ μ§€μ—° λλ” λ©”λ¨λ¦¬ λ¬Έμ  | NIPA λ΅κ·Έ ν™•μΈ |

---

## π§  6. λ‹¤μ λ‹¨κ³„ (Next Steps)

- [x] μ›Ή API λ° μ μ–΄ ν¨λ„ μ™„μ„±  
- [ ] λ©€ν‹°νƒμ¤ν¬ μ±—λ΄‡ λ¨λΈ ν•™μµ (μλ„ λ¶„λ¥ + μ‘λ‹µ μƒμ„±)  
- [ ] μ „ν™” ν†µν™” νλ¦„μ— μ±—λ΄‡ ν†µν•© (μ„ νƒ μ‚¬ν•­ - 3λ²μ§Έ νƒ­)

---
